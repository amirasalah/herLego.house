---
import type { SanityDocument } from '@sanity/client';
import { sanityClient } from 'sanity:client';

import Layout from '../layouts/Layout.astro';

const posts = await sanityClient.fetch(`*[_type == "blog"]`);

export const prerender = true;
---

<Layout>
	<section class='grid lg:grid-rows-3'>
		<h1 class='text-accent
					my-3
					lg:my-7
					lg:leading-normal
					leading-tight
					font-extrabold
					text-4xl
					lg:text-5xl
					underline'>
			Latest thoughtsğŸ’¡
		</h1>
		<p class='my-3 lg:my-7'>
			<span>
				This is a space for unfilted thoughts, ideas, and reflections. They're mix of personal and professional.
			</span>
			<br />
			<span>
				I don't have likes or comments here on purpose, these posts are not a way to get validation or grab
				attention, they're just my way to express how i process the ğŸŒ , articulate my thoughts and learn from
				them.
			</span>
		</p>
		<ul class='grid lg:grid-cols-3 grid-cols-1 my-3 lg:my-7'>
			{
				posts.map((post: SanityDocument) => (
					<li class='border-black border-2 cursor-pointer hover:bg-salmon transition-all'>
						<a
							class='w-full h-full flex items-center justify-center text-2xl lg:text-4xl'
							href={`post/${post.slug.current}`}
						>
							<strong>{post.title}</strong>
						</a>
					</li>
				))
			}
		</ul>
	</section>
</Layout>
